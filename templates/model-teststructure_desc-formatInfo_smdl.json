{
    "BIDSModelVersion": "REQUIRED string (BIDS Stats Model specification version used)",
    "Name": "REQUIRED string (short name used to identify the model; it is recommended to use a unique name for each model in a BIDS project; subfolder within the second level output directory will be created)",
    "Description": "OPTIONAL string (concise verbal description of the model)",
    "Input": {
        "non-field_INFO_Input": "OPTIONAL object: entity value pairs filtering input analysis images -> use entities of core BIDS spec; only 'task' is supported at this stage; input files need BIDS-compliant filenames; ; e.g.:", 
        "task": "motor"
    },
    "Nodes": [
        {
            "non-field_INFO_Nodes": "REQUIRED array of object (each object describes one level of modeling; allowed node sequences: run->sub->dataset, run->sess->sub->dataset, run->sub, sub->dataset)",
            "Level": "REQUIRED string (level of analysis being described; one of Run|Session|Subject|Dataset)",
            "Name": "REQUIRED string (unique node name)",
            "GroupBy": ["REQUIRED list of string (the output data (e.g. statistical maps) received from the input node are split along unique combinations of the grouping variables and passed to the model as subsets)"],
            "Transformations": {
                "non-field_INFO_Transformations": "OPTIONAL object: specification of transformations to be applied to variables before the construction of the model",
                "Transformer": "required string: name of the specification of an instruction set",
                "Instructions": [
                    {
                        "non-field_INFO_Instructions": "required list of object: sequence of instructions to pass to an implementation of Transformer; the format of these instructions is determined by the Transformer",
                        "non-field_INFO_Instructions2": "draft version of BIDS-specification of transformers available here: https://docs.google.com/document/d/1uxN6vPWbC7ciAx2XWtT5Y-lBrdckZKpPdNUNpwRxHoU/edit#",
                        "Name": "required string: name of instruction (the instruction input described below is called 'fmri_model_specification')",
                        "Input": {
                            "non-field_INFO_Input": "all input parameters needed for the fMRI model specification have to be given in this section in order to create the design matrix (needed for contrast definition)",
                            "BIDSflag": "required number (must be [0|1] (=no/yes); flag to indicate whether the input data is BIDS-compliant; default is 1)",
                            "InputDirectory": "required string: (main) directory of preprocessed files (e.g. F:/ds000001/derivatives/preproc/); this directory will be combined with Participant_ID to find the correct images",
                            "InputFilterRegexp": "required string: regular expression (e.g. ^s6w.*(nii|img)$); the participant's directory is filtered with the regular expression",
                            "ImageType": "required string (must be [3d|4d|unknown])",
                            "Participant_ID": ["required list of string: unique IDs for participants <- defined by direct input in user interface"],
                            "OutputDirectory": "required string: directory to which the SPM analysis files are written (e.g. F:/ds000001/derivatives/stats/); this directory will be combined with Participant_ID for each participant",
                            "TimingParameters": {
                                "UnitsForDesign": "required string (units for onsets of events or blocks; one of secs|scans",
                                "InterscanInterval": "required number (interscan interval TR in seconds)",
                                "MicrotimeResolution": "required number (number of time-bins per scan used when building regressors; default is 16)",
                                "MicrotimeOnset": "required number (first time-bin at which the regressors are resampled to coincide with data acquisition; default is 8)"
                            },
                            "Sessions": [
                                {
                                    "non-field_INFO_Sessions": "required list of object",
                                    "Session_id": "required string (identifier for session; can be left empty for single session experiments; is used to identify sub-folder containing the images: must be at the end of the folder name)",
                                    "Run_ids": ["optional list of string (identifier for runs; can be left empty for single run sessions; are used to identify the images; must be part of the file names or at the end of the folder name)"],
                                    "EventsRegexp": "required string (e.g. ^events.tsv$): regular expression to identify .tsv file containing event data (onsets, duration, trial_type, parametric modulators)",
                                    "Conditions": [
                                        {
                                            "non-field_INFO_Conditions": "optional list of object (required if MultipleConditions is empty)",
                                            "TrialType": "required string; has to be identical to entry in column 'trial_type' in 'events.tsv'",
                                            "TimeModulation": "required number (must be [0-6]; corresponds to order of time modulation; 0 for no time modulation)",
                                            "ParametricModulations": [
                                                {
                                                    "non-field_INFO_ParametricModulations": "optional list of object describing the parametric variates used for modeling the interaction between the trial and the variate",
                                                    "Name": "required string (name of parameter)",
                                                    "ColName": "required string; has to be identical to column name in 'events.tsv'",
                                                    "Poly": "required number (must be [1-6]; corresponds to order of polynomial expansion)"
                                                }
                                            ],
                                            "OrthogonaliseModulations": "required number (orthogonalise regressors within trial types; must be [0|1] (=no/yes))"
                                        }
                                    ],
                                    "ConditionsRegexp": "optional string (required if Conditions is empty; regular expression to identify .mat file containing conditions (files must be in raw|preproc folders))",
                                    "RegressorsRegexp": "optional string (regular expression to identify .mat|.txt|.tsv files containing the regressors (files must be in preproc folders))",
                                    "HighPassFilterSecs": "required number (high-pass filter cutoff in seconds; default is 128 s; slow signal drifts with a period longer than this will be removed)"
                                }
                            ],
                            "FactorialDesign": [
                                {
                                    "non-field_INFO_FactorialDesign": "optional list of object (define factors that will be compared during further analysis (contrasts); see SPM manual for details)",
                                    "non-field_INFO2_FactorialDesign": "the order of the factors is important - the factor to be specified first is the one that “changes slowest”;",
                                    "non-field_INFO3_FactorialDesign": "example: as we go through the list of conditions N1, N2, F1, F2 the factor “num” changes every condition and the factor “fam” changes every other condition; so “fam” changes slowest and is entered first",
                                    "Name": "required string (name of factor)",
                                    "Levels": "required number (number of levels for this factor)"
                                }
                            ],
                            "BasisFunctions": {
                                "non-field_INFO_BasisFunctions": "required object (specification of basis functions to model the hemodynamic response)",
                                "Type": "required string (one of (Canonical HRF|Fourier Set|Fourier Set (Hanning)|Gamma Functions|Finite Impulse Response|None); must be consistent with Model.HRF (if given))",
                                "OptionsCanonicalHRF": {
                                    "non-field_INFO_OptionsCanonicalHRF": "required if Type = Canonical HRF",
                                    "ModelTimeDerivatives": "required number (must be [0|1] (=no/yes))",
                                    "ModelDispersionDerivatives": "required number (must be [0|1] (=no/yes); SPM only supports ModelDispersionDerivatives when ModelTimeDerivatives is activated as well)"
                                },
                                "OptionsOtherBasisFunctions": {
                                    "non-field_INFO_OptionsOtherBasisFunctions": "required if Type is not Canonical HRF|None",
                                    "WindowLengthSecs": "required number (post-stimulus window length in seconds; not needed for Canonical HRF|None)",
                                    "NumberBasisFunctions": "required number (named Order in SPM software; not needed for Canonical HRF|None)"
                                }
                            },
                            "ModelInteractionsVolterra": "required number (must be [0|1] (=no/yes); ATTENTION: different assignment in software [1|2]; 1...do not model interactions (default), 2...model interactions)",
                            "GlobalNormalisation": "required number (must be [0|1]; global intensity normalisation; corresponds to SPM options [None|Scaling]; default is None",
                            "MaskingThreshold": "required number (masking threshold defined as proportion of globals; default is 0.8)",
                            "ExplicitMask": "optional string (path to .nii file; specify an image for explicitly masking the analysis)",
                            "SerialCorrelations": "required string (must be [none|AR(1)|FAST]; default is AR(1); AR(1)...autoregressive, FAST...FAST-model; account for serial correlations in fMRI time series due to aliased biorhythms and unmodelled neuronal activity)"
                        },
                        "Script": "optional string: script executing the Instruction",
                        "Output": "optional (list of) string: output of the Instruction"
                    },
                    {
                        "Name": "required string: name of instruction",
                        "Input": "required object: needed input for this Instruction (e.g. output of previous Instruction)",
                        "Script": "optional string: script executing the Instruction",
                        "Output": "optional (list of) string: output of the Instruction"
                    }
                ]   
            },
            "Model": {
                "non-field_INFO_Model": "REQUIRED object: specifies the statistical model to be estimated",
                "Type": "REQUIRED string (one of glm|meta): type of analysis to run; currently two options are defined: general linear model or meta-analysis",
                "X": ["REQUIRED list of string|1(<- represents intercept) (=regressors + confounders + intercept) including every column of the design matrix; each variable name specified in X must exactly match one of the variables available in the namespace"],
                "non-field_INFO_X": "any available variables that are not explicitly named in X will be omitted from the model; partial matching is supported (like task_*): * matches 0 or more alphanumerics, ? matches exactly one alphanumeric",
                "HRF": {
                    "non-field_INFO_HRF": "optional object: specification of the hemodynamic response function (HRF) that should be applied to variables by implementing software",
                    "Model": "required string: one of (spm|spm + derivative|spm + derivative + dispersion|glover|glover + derivative|glover + derivative + dispersion|fir) (e.g. spm + derivative)",
                    "Variables": ["required list of string: names of variables to which HRF applies (e.g. ChoiceLeft, ChoiceRight), must be a subset of X"],
                    "Parameters": "optional object: key value pairs of parameters to pass to the estimator; options will be software specific and are not controlled"
                },
                "Software": [
                    {
                        "non-field_INFO_Software": "optional list of object: specification of any software-specific estimation parameters; each value in the list is an object, with the key being the name of the software package (FSL, SPM, etc.) and the value being an object containing software-specific parameters",
                        "SPM": {
                            "WriteResiduals": "required number (must be [0|1] (=no/yes); write images of residuals to disk; default is No)",
                            "Method": {
                                "Type": "required string (must be [Classical|Bayesian 1st-level|Bayesian 2nd-level]; default is Classical (ReML) estimation of first or second level models)",
                                "OptionsBayesian1": {"comment": "not implemented yet; can be added if needed"}
                            },
                            "DeleteExistingContrasts": "required number (must be [0|1] (=no/yes); default is No",
                            "ReplicateOverSessions": "required string (must be [Dont replicate|Replicate|Replicate&Scale|Create per session|Both: Replicate + Create per session| Both: Replicate&Scale + Create per session]",
                            "non-field_INFO_ReplicateOverSessions": "in the batch the following abbreviations are used instead: [none|repl|replsc|sess|both|bothsc]; both designations are allowed; default is Dont replicate|none", 
                            "non-field_INFO2_ReplicateOverSessions": "if there are multiple sessions with identical conditions, one might want to specify contrasts which are identical over sessions (see SPM manual for details)"
                        }
                    }
                ]
            },
            "Contrasts": [
                {
                    "non-field_INFO_Contrasts": "optional list of object (specify t and F contrasts)",
                    "Name": "required string (name of contrast; must be unique within Node)",
                    "ConditionList": ["required array of string (list of variables used to compute the contrast; must be a strict subset of the list X available in the namespace"],
                    "Weights": ["optional array of number (1D for t|F, 2D for F, e.g. [1, 0] for t|F or [[0, 1],[2, 3]] for F; if empty unit weights are assigned to all variables)"],
                    "Test": "required string (must be [t|F|skip]; type of test statistic to compute on the contrast"
                }
            ],
            "DummyContrasts": {
                "non-field_INFO_DummyContrasts": "optional list of object (specify dummy contrasts with weight 1 for given names and 0 for all other variables)",
                "Test": "required string (must be [t|skip]; indicates the contrast type; if skip, no dummy contrasts are generated)",
                "Contrasts": ["optional list of string (list of variables used to compute the contrast; must be a strict subset of the list X available in the namespace"]
            }
        },
        {
            "Level": "REQUIRED string (level of analysis being described; one of Run|Session|Subject|Dataset)",
            "Name": "REQUIRED string (unique node name)",
            "GroupBy": ["REQUIRED list of string (the output data (e.g. statistical maps) received from the input node are split along unique combinations of the grouping variables and passed to the model as subsets)"],
            "Transformations": {
                "non-field_INFO_Transformations": "OPTIONAL object: specification of transformations to be applied to variables before the construction of the model",
                "Transformer": "required string: name of the specification of an instruction set",
                "Instructions": [
                    {
                        "non-field_INFO_Instructions": "required list of object: sequence of instructions to pass to an implementation of Transformer; the format of these instructions is determined by the Transformer",
                        "non-field_INFO_Instructions2": "draft version of BIDS-specification of transformers available here: https://docs.google.com/document/d/1uxN6vPWbC7ciAx2XWtT5Y-lBrdckZKpPdNUNpwRxHoU/edit#",
                        "Name": "required string: name of instruction (the instruction input described below is called 'factorial_design_specification')",
                        "Input": {
                            "non-field_INFO_Input": "all input parameters needed for the factorial design specification have to be given in this section in order to create the design matrix (needed for contrast definition)",
                            "MainProjectFolder": "required string: main directory of the project (e.g. F:/ds000001/); data concerning the complete sample (e.g. participants.tsv) are expected to be there",
                            "OutputDirectory": "required (list of?) string: directory to which the SPM analysis files are written (e.g. F:/ds000001/derivatives/group_stats/)",
                            "Design": {
                                "Type": "required string: specify the type of model which should be applied",
                                "InputOneSampleTTest": {
                                    "Scans": {
                                        "non-field_INFO_Scans": "all images must have the same image dimensions, orientation, voxel size etc.",
                                        "ContrastsToProcess": ["required (list of) string: define which contrasts should be processed at dataset level (same names as defined in previous node)"],
                                        "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                        "InputFilterRegexp": ["optional (list of) string (required if InputFileType is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                        "non-field_INFO_InputFilterRegexp": "the list must have the same length as the list of ContrastsToProcess and the order must match"
                                    }
                                },
                                "InputTwoSampleTTest": {
                                    "Scans": {
                                        "non-field_INFO_Scans": "the groups must be identifyable either by the Participant_IDs or the InputFilterRegexp",
                                        "ContrastsToProcess": ["required (list of) string: define which contrasts should be processed at dataset level (same names as defined in previous node)"],
                                        "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                        "SubjectsGroup1": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                        "non-field_INFO_SubjectsGroup1": "all images must have the same image dimensions, orientation, voxel size etc.",
                                        "InputFilterRegexpGroup1": ["optional (list of) string (required if InputFileTypeGroup1 is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                        "non-field_INFO_InputFilterRegexpGroup1": "the list must have the same length as the list of ContrastsToProcess and the order must match",
                                        "SubjectsGroup2": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                        "non-field_INFO_InputDirectoryGroup2": "all images must have the same image dimensions, orientation, voxel size etc.",
                                        "InputFilterRegexpGroup2": ["optional (list of) string (required if InputFileTypeGroup2 is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                        "non-field_INFO_InputFilterRegexpGroup2": "the list must have the same length as the list of ContrastsToProcess and the order must match"
                                    },
                                    "Independence": "required number (independence of the measurements; must be [0|1] (=no/yes); ATTENTION: in the software the indicator is inverted (indicating dependence))",
                                    "Variance": "required string (must be equal|unequal; by default, the measurements in each level are assumed to have unequal variance; 0...equal, 1...unequal)",
                                    "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                    "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                },
                                "InputPairedTTest": {
                                    "non-field_INFO_InputPairedTTest": "pairs of images must be given in separate objects",
                                    "Scans": [
                                        {
                                            "non-field_INFO_Scans": "list of object; each contains a pair of images; for more compact representation, subjects and contrasts can be defined in arrays",
                                            "non-field_INFO2_Scans": "the arrays 'Subjects1' & 'Contrasts1' belong to the first image of a pair, 'Subjects2' & 'Contrasts2' to the second image",
                                            "non-field_INFO3_Scans": "the first entry in 'Subjects1' array is paired with the first entry in 'Subjects2' array and so on (same for 'Contrasts1' & 'Contrasts2')",
                                            "non-field_INFO4_Scans": "the images must have the same image dimensions, orientation, voxel size etc.",
                                            "InputFileType1": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images; file type for first image of a pair)",
                                            "InputFilterRegexp1": ["optional (list of ) string (required if InputFileType1 is 'other'): regular expression for first image of a pair (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                            "non-field_INFO_InputFilterRegexp1": "the list must have the same length as the list of Contrasts1 and the order must match",
                                            "InputFileType2": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images; file type for second image of a pair)",
                                            "InputFilterRegexp2": ["optional (list of) string (required if InputFileType2 is 'other'): regular expression for second image of a pair (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                            "non-field_INFO_InputFilterRegexp2": "the list must have the same length as the list of Contrasts2 and the order must match",
                                            "Subjects1": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "Subjects2": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "Contrasts1": ["required string: define which contrast should be processed at dataset level as input for image 1 (same names as defined in previous node)"],
                                            "Contrasts2": ["required string: define which contrast should be processed at dataset level as input for image 2 (same names as defined in previous node)"]
                                        }
                                    ],
                                    "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                    "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                },
                                "InputMultipleRegression": {
                                    "Scans": {
                                        "non-field_INFO_Scans": "all images must have the same image dimensions, orientation, voxel size etc.",
                                        "ContrastsToProcess": ["required (list of) string: define which contrasts should be processed at dataset level (same names as defined in previous node)"],
                                        "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                        "InputFilterRegexp": ["optional (list of) string (required if InputFileType is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                        "non-field_INFO_InputFilterRegexp": "the list must have the same length as the list of ContrastsToProcess and the order must match"
                                    },
                                    "Covariates": [
                                        {
                                            "non-field_INFO_Covariates": "required list of object; add covariates to the experimental design",
                                            "CovariatesFileRegexp": "required string (regular expression to identify .tsv file containing covariates; the file must be in the main project folder)",
                                            "Name": "string (name of covariate)",
                                            "ColName": "required string; has to be identical to column name in 'participants.tsv'",
                                            "Centering": "string (must be Overall mean|No centering; centering refers to subtracting the mean (central) value from the covariate values, which is equivalent to orthogonalising the covariate with respect to the constant column; ATTENTION: assignment in software [1|5]; 1...overall mean, 5...no centering)"
                                        }
                                    ],
                                    "Intercept": "number (must be [0|1] (=no/yes); by default, an intercept is always added to the model; if the covariates supplied by the user include a constant effect, the intercept may be omitted)"
                                },
                                "InputOneWayANOVA": {
                                    "Cells": [
                                        {
                                            "non-field_INFO_Cells": "required list of object; each containing images to be compared",
                                            "non-field_INFO2_Cells": "all images must have the same image dimensions, orientation, voxel size etc.",
                                            "ContrastToProcess": "required string: define which contrast should be processed within this cell at dataset level (same names as defined in previous node)",
                                            "Subject_ID": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "InputFileTypeGroup": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                            "InputFilterRegexpGroup": "optional string (required if InputFileTypeGroup is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"
                                            }
                                    ],
                                    "Independence": "required number (independence of the measurements; must be [0|1] (=no/yes); ATTENTION: in the software the indicator is inverted (indicating dependence))",
                                    "Variance": "required string (must be equal|unequal; by default, the measurements in each level are assumed to have unequal variance; 0...equal, 1...unequal)",
                                    "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                    "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                },
                                "InputOneWayANOVAWithinSubject": {
                                    "Subjects": [
                                        {
                                            "non-field_INFO_Subjects": "required list of object; each containing images from a single subject",
                                            "non-field_INFO2_Subjects": "all images must have the same image dimensions, orientation, voxel size etc.",
                                            "ContrastsToProcess": ["required (list of) string: define which contrasts should be processed within single subjects at dataset level (same names as defined in previous node)"],
                                            "non-field_INFO_ContrastsToProcess": "each of the ContrastsToProcess will be assigned a different level/condition (e.g. pre-treatment -> 1, post-treatment -> 2,...)",
                                            "Subject_ID": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                            "InputFilterRegexp": ["optional (list of) string (required if InputFileType is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                            "non-field_INFO_InputFilterRegexp": "the list must have the same length as the list of ContrastsToProcess and the order must match",
                                            "non-field_INFO_Conditions": "the entry for Conditions (required by SPM) will be determined from ContrastsToProcess (order represents Condition index!) for each chosen subject",
                                            "non-field_INFO2_Conditions": "required array of number (nscan-by-1 matrix; factor matrix >I< must have four columns and as many rows as scans/participants [same format as SPM variable SPM.xX.I])",
                                            "non-field_INFO3_Conditions": "first column of I denotes the replication number and entries in the other columns denote the levels of each experimental factor"
                                        }
                                    ],
                                    "Independence": "required number (independence of the measurements; must be [0|1] (=no/yes); ATTENTION: in the software the indicator is inverted (indicating dependence))",
                                    "Variance": "required string (must be equal|unequal; by default, the measurements in each level are assumed to have unequal variance; 0...equal, 1...unequal)",
                                    "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                    "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                    "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                },
                                "InputFullFactorial": {
                                    "Factors": [
                                        {
                                            "non-field_INFO_Factors": "list of object; create new factors; importance of order?; maximum of 3 factors (according to options below)??",
                                            "Name": "string (name of factor)",
                                            "Levels": "number (levels for this factor)",
                                            "Independence": "required number (independence of the measurements; must be [0|1] (=no/yes); ATTENTION: in the software the indicator is inverted (indicating dependence))",
                                            "Variance": "required string (must be equal|unequal; by default, the measurements in each level are assumed to have unequal variance; 0...equal, 1...unequal)",
                                            "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                            "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                            "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                            "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                        }
                                    ],
                                    "Cells": [
                                        {
                                            "non-field_INFO_Cells": "list of object; each containing images to be compared",
                                            "non-field_INFO2_Cells": "all images must have the same image dimensions, orientation, voxel size etc.",
                                            "non-field_INFO3_Cells": "the images are chosen according to ContrastsToProcess and the chosen subjects",
                                            "non-field_INFO_Levels": "e.g. the vector [2 3] specifies the cell corresponding to the 2nd-level of the first factor and the 3rd level of the 2nd factor",
                                            "ContrastToProcess": "required string: define which contrast should be processed within this cell at dataset level (same names as defined in previous node)",
                                            "Subject_ID": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "non-field_INFO_ContrastToProcess&Subject_ID": "images belonging to this cell are determined by the ContrastToProcess and the chosen subjects",
                                            "non-field_INFO2_ContrastToProcess&Subject_ID": "all images must have the same image dimensions, orientation, voxel size etc.",
                                            "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                            "InputFilterRegexp": "optional string (required if InputFileType is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression",
                                            "Levels": "required (array of) number (specifies which cell in the factorial design these images belong to; the length of this vector should correspond to the number of factors in the design)"
                                        }
                                    ],
                                    "GenerateContrasts": "number (must be [0|1] (=no/yes); automatically generate the contrasts necessary to test for all main effects and interactions)"
                                },
                                "InputFlexibleFactorial": {
                                    "Factors": [
                                        {
                                            "non-field_INFO_Factors": "list of object (importance of order?; create a design matrix a block at a time by specifying which main effects and interactions should be included)",
                                            "Name": "string (name of factor)",
                                            "Independence": "required number (independence of the measurements; must be [0|1] (=no/yes); ATTENTION: in the software the indicator is inverted (indicating dependence))",
                                            "Variance": "required string (must be equal|unequal; by default, the measurements in each level are assumed to have unequal variance; 0...equal, 1...unequal)",
                                            "GrandMeanScaling": "required number (must be [0|1] (=no/yes); specify >grand mean scaling by factor<)",
                                            "non-field_INFO_GrandMeanScaling": "this option is not intended for fMRI second level data! -> probably DELETE",
                                            "non-field_INFO_ANCOVA": "this option is not intended for fMRI second level data! -> probably DELETE",
                                            "ANCOVA": "required number (must be CHECK [0|1] (=no/yes); specify >ANCOVA-by-factor< regressors)"
                                        }
                                    ],
                                    "Subjects": [
                                        {
                                            "non-field_INFO_Subjects": "required list of object (each object contains images and conditions from a single subject; all images must have the same image dimensions, orientation, voxel size etc.)",
                                            "non-field_INFO2_Subjects": "all images must have the same image dimensions, orientation, voxel size etc.",
                                            "non-field_INFO3_Subjects": "the images are chosen according to ContrastsToProcess and the chosen subjects",
                                            "Subject_ID": ["required list of string: subset of first level node subjects (i.e. Nodes(i).Transformations.Instructions.Input.Participant_ID)"],
                                            "non-field_INFO_Subject_ID": "subjects with identical conditions can be grouped together",
                                            "ContrastsToProcess": ["required (list of) string: define which contrasts should be processed within single subjects at dataset level (same names as defined in previous node)"],
                                            "non-field_INFO_ContrastsToProcess": "the scans will be sorted first by Subject_ID and then by ContrastsToProcess (e.g. Subject_ID1_Contrast1, Subject_ID1_Contrast2, Subject_ID2_Contrast1, Subject_ID2_Contrast2,...)",
                                            "InputFileType": "required string (must be [con|beta|other] -> all options except 'other' are predefined in SPM; 'other' is used for user-defined contrast images)",
                                            "InputFilterRegexp": ["optional (list of) string (required if InputFileType is 'other'): regular expression (e.g. ^contrast1.*nii$); the participants' directories are filtered with the regular expression"],
                                            "non-field_INFO_InputFilterRegexp": "the list must have the same length as the list of ContrastsToProcess and the order must match",
                                            "Conditions": "required array/matrix of number (assignment of the subjects' scans to the levels of the previously defined factors)",
                                            "non-field_INFO_Conditions": "entries in the conditions array/matrix must be in the same order as the images in the scans array!",
                                            "non-field_INFO2_Conditions": "nscan-by-nfactors (max. 3 factors) matrix is needed; the first column of SPM.xX.I (replication number) will be determined by SPM automatically",
                                            "non-field_INFO3_Conditions": "first column of SPM.xX.I denotes the replication number and entries in the other columns denote the levels of each experimental factor"
                                        }
                                    ],
                                    "MainEffectsAndInteractions": [
                                        {
                                            "non-field_INFO_MainEffectsAndInteractions": "optional list of object (add main effect or interaction to the design matrix)",
                                            "Type": "required string (must be MainEffect|Interaction)",
                                            "FactorNames": "required (array of) string|array of 2 strings (for main effect(s) enter name(s) of the factor(s); for interaction enter the two names of the factors which interact)"
                                        }
                                    ]
                                }
                            },
                            "Covariates": [
                                {
                                    "non-field_INFO_Covariates": "optional list of object; this option allows for the specification of covariates and nuisance variables (Note: spm does not make any distinction between effects of interest and nuisance effects)",
                                    "CovariatesFileRegexp": "required string (regular expression to identify .tsv file containing covariates; the file must be in the main project folder)",
                                    "Name": "string (name of covariate)",
                                    "ColName": "required string; has to be identical to column name in 'participants.tsv'",
                                    "Interactions": "string (create an additional regressor that is the interaction between the covariate and a chosen experimental factor; must be None|With Factor 1|With Factor 2|With Factor 3 <-> assignment in software 1|2|3|4 (1 = None!!)",
                                    "non-field_INFO_Interactions": "Factor # must correspond to previously defined factors; only available for FullFactorial and FlexibleFactorial??",
                                    "Centering": "string (centering refers to subtracting the mean (central) value from the covariate values, which is equivalent to orthogonalising the covariate with respect to the constant column; must be Overall mean|Factor 1 mean|Factor 2 mean|Factor 3 mean|No centering|User specified value|As implied by ANCOVA|GM <-> assignment in software [1-8] (5 = No!!))",
                                    "non-field_INFO_Centering": "Factor # must correspond to previously defined factors; only available for FullFactorial and FlexibleFactorial??"
                                }
                            ],
                            "Masking": {
                                "non-field_INFO_Masking": "specifies the voxels within the image volume which are to be assessed",
                                "ThresholdMasking": {
                                    "Type": "required string (must be None|Absolute|Relative; images are thresholded at a given value and only voxels at which all images exceed the threshold are included)",
                                    "ThresholdValue": "required number (depending on Type, the threshold is given as an absolute value or as a proportion of the global value)"
                                },
                                "ImplicitMask": "required number (must be [0|1] (=no/yes); mask implied by a particular voxel value (zero/NaN); voxels with this mask value are excluded from the analysis",
                                "ExplicitMask": "optional string (path to other image containing masks that are to be applied to the current analysis; all zero/NaN voxels are excluded)"
                            },
                            "GlobalCalculation": {
                                "non-field_INFO_GlobalCalculation": "this option is not intended for fMRI second level data! -> probably DELETE; one value per subject is expected",
                                "Type": "required string (methods for estimating global effects; must be Omit|User|Mean)",
                                "UserSpecifiedValues": ["required array of number (vector of global values; values must be in the same order as the subjects listed in the respective design sections of this node)"]
                            },
                            "GlobalNormalisation": {
                                "non-field_INFO_GlobalNormalisation": "this option is not intended for fMRI second level data! -> probably DELETE",
                                "OverallGrandMeanScaling": "required number (scaling the data by a common factor, proportionally or adding a covariate to adjust for the global values; must be [0|1] (=no/yes)",
                                "UserSpecifiedValue": "required number (grand mean scaled value)",
                                "Normalisation": "required string (account for nuisance effects by dividing intensities by the global value or by including the global covariate as a nuisance effect in the GLM; must be None|Proportional|ANCOVA)"
                            }
                        },
                        "Script": "optional string: script executing the Instruction",
                        "Output": "optional (list of) string: output of the Instruction"
                    },
                    {
                        "Name": "required string: name of instruction",
                        "Input": "required object: needed input for this Instruction (e.g. output of previous Instruction)",
                        "Script": "optional string: script executing the Instruction",
                        "Output": "optional (list of) string: output of the Instruction"
                    }
                ]
            },
            "Model": {
                "non-field_INFO_Model": "REQUIRED object: specifies the statistical model to be estimated",
                "Type": "REQUIRED string (one of glm|meta): type of analysis to run; currently two options are defined: general linear model or meta-analysis",
                "X": ["REQUIRED list of string|1(<- represents intercept) (=regressors + confounders + intercept) including every column of the design matrix; each variable name specified in X must exactly match one of the variables available in the namespace"],
                "non-field_INFO_X": "any available variables that are not explicitly named in X will be omitted from the model; partial matching is supported (like task_*): * matches 0 or more alphanumerics, ? matches exactly one alphanumeric",
                "Software": [
                    {
                        "non-field_INFO_Software": "optional list of object: specification of any software-specific estimation parameters; each value in the list is an object, with the key being the name of the software package (FSL, SPM, etc.) and the value being an object containing software-specific parameters",
                        "SPM": {
                            "WriteResiduals": "required number (must be [0|1] (=no/yes); write images of residuals to disk; default is No)",
                            "Method": {
                                "Type": "required string (must be [Classical|Bayesian 1st-level|Bayesian 2nd-level]; default is Classical (ReML) estimation of first or second level models)"
                            },
                            "DeleteExistingContrasts": "required number (must be [0|1] (=no/yes); default is No",
                            "ReplicateOverSessions": "required string (must be [Dont replicate|Replicate|Replicate&Scale|Create per session|Both: Replicate + Create per session| Both: Replicate&Scale + Create per session]",
                            "non-field_INFO_ReplicateOverSessions": "in the batch the following abbreviations are used instead: [none|repl|replsc|sess|both|bothsc]; both designations are allowed; default is Dont replicate|none"
                        }
                    }
                ]
            },
            "Contrasts": [
                {
                    "non-field_INFO_Contrasts": "optional list of object (specify t and F contrasts)",
                    "Name": "required string (name of contrast; must be unique within Node)",
                    "ConditionList": ["required array of string (list of variables used to compute the contrast; must be a strict subset of the list X available in the namespace"],
                    "Weights": ["optional array of number (1D for t|F, 2D for F, e.g. [1, 0] for t|F or [[0, 1],[2, 3]] for F; if empty unit weights are assigned to all variables)"],
                    "Test": "required string (must be [t|F|skip]; type of test statistic to compute on the contrast"
                }
            ]
        }
    ],
    "Edges": [
        {
            "non-field_INFO_Edges": "optional array of object (an edge describes a single connection between two nodes; a combination of edges describes a sequence of nodes)",
            "non-field_INFO2_Edges": "if edges is not present in the model, a linear sequence is assumed from the first Node to the last, with no filters specified on each edge",
            "Source": "required string (name of a single node; the outputs of this node are passed to Destination)",
            "Destination": "required string (name of single node; the outputs of Source are passed to this node; the outputs of the Source node are the inputs of the Destination node, after filtering (if any))",
            "Filter": {
                "non-field_INFO_Filter": "optional object (maps a grouping variable to a list of values to pass to Destination; if multiple grouping variables are passed, the result is the conjunction of filters; e.g.:",
                "group": ["patient"]
            }
        }
    ]
}